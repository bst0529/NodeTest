<style>
    .restaurant-show-title {
        position: relative;
        top: -100px;
        color: white;
        text-align: center;
        font-size: 3rem;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }
</style>
<div class="container">
    <h1 class="restaurant-show-title">{{ restaurant.name }}</h1>
    <div class="row">
        <div class="col-md-10 col-12 mx-auto">
            <p>
                <span class="text-secondary">
                    <i class="fas fa-utensils pr-2"></i>
                    類別：
                </span>
                <span class="restaurant-show-category">{{ restaurant.category }}</span>
            </p>
            <p>
                <span class="text-secondary">
                    <i class="fas fa-map-marker-alt pr-2"></i>
                    地址：
                </span>
                <span class="restaurant-show-location">{{ restaurant.location }}</span>
                <a href="{{ restaurant.google_map }}" target="_blank" class="ml-2 restaurant-show-google_map">
                    <i class="fas fa-location-arrow pr-2 fa-xs"></i>
                </a>
            </p>
            <p>
                <span class="text-secondary">
                    <i class="fas fa-mobile-alt pr-2"></i>
                    電話：
                </span>
                <span class="restaurant-show-phone">{{ restaurant.phone }}</span>
            </p>
            <p>
                <span class="restaurant-show-description">{{ restaurant.description }}</span>
            </p>
            <img class="rounded d-block mb-4 w-100 mx-auto restaurant-show-image" src="{{ restaurant.image }}"
                alt="{{ restaurant.name }}" style="max-width: 600px;">
        </div>
    </div>
</div>
<div class="container">
    <form action="/?_method=put" method="post">
        <div class="input-groups">
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">餐廳中文名稱</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫中文餐廳名稱" name="name"
                    value="{{ restaurant.name }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="name-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">餐廳英文名稱</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫英文餐廳名稱" name="name_en"
                    value="{{ restaurant.name_en }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="name_en-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">餐廳圖片網址</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫餐廳圖片網址" name="image"
                    value="{{ restaurant.image }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="image-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">料理類別</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫料理類別" name="category"
                    value="{{ restaurant.category }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="category-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">地址</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫地址" name="location"
                    value="{{ restaurant.location }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="location-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">google地圖網址</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫google地圖網址" name="google_map"
                    value="{{ restaurant.google_map }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="google_map-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">電話</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫電話" name="phone" value="{{ restaurant.phone }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="phone-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">描述</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫描述" name="description"
                    value="{{ restaurant.description }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="description-apply">應用</button>
                </div>
            </div>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">得分</span>
                </div>
                <input type="text" class="form-control" placeholder="請填寫得分" name="rating"
                    value="{{ restaurant.rating }}">
                <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" id="rating-apply">應用</button>
                </div>
            </div>
            <input type="hidden" name="_id" value="{{ restaurant._id }}">
            <button type="submit" class="btn btn-primary btn-block mb-5">儲存</button>
        </div>
    </form>
</div>
<script>
    document.querySelector('.input-groups').addEventListener('click', event => {
        if (event.target.tagName === 'BUTTON' && event.target.id.includes('-apply')) {
            const id = event.target.id
            let inputTxt = ''
            switch (id) {
                case 'name-apply':
                    inputTxt = document.querySelector('input[name="name"]').value
                    document.querySelector('.restaurant-show-title').innerText = inputTxt
                    document.querySelector('.restaurant-show-image').alt = inputTxt
                    break;
                case 'image-apply':
                    inputTxt = document.querySelector('input[name="image"]').value
                    document.querySelector('.restaurant-show-image').src = inputTxt
                    break;
                case 'category-apply':
                    inputTxt = document.querySelector('input[name="category"]').value
                    document.querySelector('.restaurant-show-category').innerText = inputTxt
                    break;
                case 'location-apply':
                    inputTxt = document.querySelector('input[name="location"]').value
                    document.querySelector('.restaurant-show-location').innerText = inputTxt
                    break;
                case 'google_map-apply':
                    inputTxt = document.querySelector('input[name="google_map"]').value
                    document.querySelector('.restaurant-show-google_map').innerText = inputTxt
                    break;
                case 'phone-apply':
                    inputTxt = document.querySelector('input[name="phone"]').value
                    document.querySelector('.restaurant-show-phone').innerText = inputTxt
                    break;
                case 'description-apply':
                    inputTxt = document.querySelector('input[name="description"]').value
                    document.querySelector('.restaurant-show-description').innerText = inputTxt
                    break;
            }
        }
    })
</script>